{% extends 'TavroAppBundle:Layouts:documentation.html.twig' %}
{% set user_page = true %}
{% block body_classes %}doc-page{% endblock %}

{% block content %}

    <div class="page-header">
        <h1>User API</h1>
        <p class="lead"><i class="fa fa-fw fa-user"></i> Interact with <code>api.tavro.io</code> and manage a User object and associations.</p>
    </div>


    <div class="page-header">
        <h3><i class="fa fa-fw fa-database"></i> User Model</h3>
        <p>The User object model.</p>
    </div>

    <div class="panel panel-default">
        <table class="table table-hover table-striped table-api">
            <thead>
            <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Methods</th>
                <th>Notes</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>id</td>
                <td class="integer">integer</td>
                <td>GET, DELETE</td>
                <td>Unique identifier.</td>
            </tr>
            <tr>
                <td>guid</td>
                <td class="string">string</td>
                <td>GET</td>
                <td>Globally unique identifier.</td>
            </tr>
            <tr>
                <td>update_date</td>
                <td class="date">date</td>
                <td>GET</td>
                <td></td>
            </tr>
            <tr>
                <td>create_date</td>
                <td class="date">date</td>
                <td>GET</td>
                <td></td>
            </tr>
            <tr>
                <td>last_online_date</td>
                <td class="date">date</td>
                <td>GET</td>
                <td></td>
            </tr>
            <tr>
                <td>api_key</td>
                <td class="string">string</td>
                <td>GET</td>
                <td></td>
            </tr>
            <tr>
                <td>api_password</td>
                <td class="string">string</td>
                <td>GET</td>
                <td></td>
            </tr>
            <tr>
                <td>status</td>
                <td class="integer">integer</td>
                <td>GET</td>
                <td></td>
            </tr>
            <tr>
                <td>email</td>
                <td class="string">string</td>
                <td>GET, CREATE, PATCH</td>
                <td></td>
            </tr>
            <tr>
                <td>username</td>
                <td class="string">string</td>
                <td>GET, CREATE, PATCH</td>
                <td></td>
            </tr>
            <tr>
                <td>gender</td>
                <td class="string">string</td>
                <td>GET, CREATE, PATCH</td>
                <td>[Male, Female, Other]</td>
            </tr>
            <tr>
                <td>birthday</td>
                <td class="date">date</td>
                <td>GET, CREATE, PATCH</td>
                <td></td>
            </tr>
            <tr>
                <td>organizations</td>
                <td class="array">array</td>
                <td>GET</td>
                <td>Organizations this User owns.</td>
            </tr>
            <tr>
                <td>user_organizations</td>
                <td class="array">array</td>
                <td>GET</td>
                <td>Organizations this user is assigned to.</td>
            </tr>
            <tr>
                <td>nodes</td>
                <td class="array">array</td>
                <td>GET</td>
                <td>Nodes this User has created.</td>
            </tr>
            <tr>
                <td>roles</td>
                <td class="array">array</td>
                <td>GET</td>
                <td>Roles this User has.</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="page-header">
        <h3><i class="fa fa-fw fa-location-arrow"></i> User Api Routes</h3>
    </div>

    <ul>
        <li><code>{user}</code> must be the integer ID of a User.</li>
        <li><code>{format}</code> must be <code>XML</code> or <code>JSON</code> (if not provided the default is <code>JSON</code>).</li>
    </ul>

    <hr />

    <div class="panel panel-default">
        <table class="table table-striped table-hover table-api">
            <tr>
                <th>Path</th>
                <th>Method(s)</th>
                <th>Description</th>
            </tr>
            <tr>
                <td class="code">/api/v1/users.{format}</td>
                <td class="code get">GET</td>
                <td>Get all Users.</td>
            </tr>
            <tr>
                <td class="code">/api/v1/users/{user}.{format}</td>
                <td class="code get">GET</td>
                <td>Get a User by Id.</td>
            </tr>
            <tr>
                <td class="code">/api/v1/users/{user}.{format}</td>
                <td class="code update">PUT, PATCH</td>
                <td>Update a User by Id.</td>
            </tr>
            <tr>
                <td class="code">/api/v1/users/{user}.{format}</td>
                <td class="code delete">DELETE</td>
                <td>Delete a User by Id.</td>
            </tr>
            <tr>
                <td class="code">/api/v1/users.{format}</td>
                <td class="code post">POST</td>
                <td>Create a User.</td>
            </tr>
            <tr>
                <td class="code">/api/v1/users/{user}/reset/api-password.{format}</td>
                <td class="code post">POST</td>
                <td>Reset a User's Api Password</td>
            </tr>
            <tr>
                <td class="code">/api/v1/users/{user}/reset/api-key.{format}</td>
                <td class="code post">POST</td>
                <td>Reset a User's Api Key</td>
            </tr>
        </table>
    </div>


{% endblock %}