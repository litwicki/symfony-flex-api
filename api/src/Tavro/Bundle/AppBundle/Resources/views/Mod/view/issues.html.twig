<p class="lead"><i class="ra ra-beetle"></i> Issues</p>
<hr />

<div ng-if="!issues.length" class="alert alert-warning">
  <p><i class="fa fa-fw fa-warning"></i> {[mod.title]} has no issues/bugs.</p>
</div>

<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

  <div class="panel panel-default" dir-paginate="issue in issues | filter: issueText | itemsPerPage: 20" pagination-id="modissues">
    <div class="panel-heading" id="issue{[issue.number]}">
      <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-issue{[issue.number]}" aria-expanded="true"
         aria-controls="collapse-issue{[issue.number]}">
        [{[issue.number]}] {[issue.title]}
      </a>
    </div>
    <div id="collapse-issue{[issue.number]}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="issue{[issue.number]}">
      <div class="panel-body">
        <ul class="list-inline small">
          <li><i class="ra ra-beetle"></i> {[issue.id]}</li>
          <li><i class="fa fa-fw fa-user"></i> {[issue.user.login]}</li>
          <li><span ng-if="issue.assignee" class="text-success">Assigned to {[issue.assignee]}</span><span class="text-muted" ng-if="!issue.assignee">Not assigned</span></li>
          <li class="pull-right"><a href="{[issue.html_url]}"><i class="fa fa-fw fa-external-link"></i> Github</a></li>
        </ul>
        <hr />
        <div class="issue-body">
          {[issue.body]}
        </div>
      </div>
    </div>
  </div>

</div>

<div class="text-center">
  <dir-pagination-controls boundary-links="true" max-size="10" pagination-id="modissues"></dir-pagination-controls>
</div>

{% if app.user %}
<div class="well well-sm" ng-if="mod.github_repo != ''">

  <div class="panel-body">
    <p><i class="ra ra-beetle"></i> Report Bug</p>
    <form ng-submit="createIssue(issue)">

      <div class="form-group">
        <div class="input-group">
          <div class="input-group-addon"><i class="fa fa-fw fa-file-text-o"></i></div>
          <input type="text" class="form-control" ng-model="issue.title" placeholder="Bug title.." />
        </div>
      </div>

      <div class="form-group">
        <textarea class="form-control" ng-model="issue.body" placeholder="Bug description here.."></textarea>
      </div>

      <button type="submit" ng-click="" class="btn btn-success btn-sm">
        <i class="ra ra-beetle"></i> Submit Bug
      </button>

    </form>
  </div>

</div>
{% endif %}
